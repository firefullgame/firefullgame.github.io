(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-dapp-test"],{"144d":function(t,e,n){"use strict";(function(t){var o=n("ee27");n("c975"),n("a15b"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a,u,c=o(n("fc11")),r={name:"test",data:function(){return{eth:1,fpt:1,people:0,num:0,token_index:0,totalSyn:0,_index:0,start:0,end:0,address:[],index:0,val:0,dongtai:{},lv:0,minIndex:0,adddressIndex:0,lv_limit:11,total:0,timu:[[[1,1],[1,1,1,1],[1],[1,1]],[[[1,1,1],[1,1],[1],[]],[1,1]],[1],[1]]}},created:function(){u=this},methods:(a={main:function(){},toWei:function(t){return u.$common.web3.utils.toWei(t)},fromWei:function(t){return u.$common.web3.utils.fromWei(t)},rukou:function(){var e=1,n=u.digui(1,0,e,1);t("log",n," at pages/dapp/test.vue:109")},digui:function(e,n,o,a){return 11==n&&(a=e+""+n,n=0,e++,e>o)?0:(++n,t("log","我是："+e+n+" 我的推荐人是"+a," at pages/dapp/test.vue:123"),u.digui(e,n,o,a),0)},demo1:function(){for(var e=0,n=1;n<=10;n++){for(var o=0,a=1;a<=n;a++)o+=n;t("log",o," at pages/dapp/test.vue:137"),e+=o}t("log",e," at pages/dapp/test.vue:140")},demo2:function(){var t=1,e=0;degui(0,1,t,e)},degui:function(t,e,n,o){t==e&&(e++,t=0,e>n)||(t++,e,u.degui(t,e,n,o))}},(0,c.default)(a,"demo2",(function(){var e=u.degui2(u.timu);t("log",e," at pages/dapp/test.vue:165")})),(0,c.default)(a,"degui2",(function(t){for(var e=0,n=0;n<t.length;n++){var o=typeof t[n];e+="object"==o?u.degui2(t[n]):t[n]}return e})),(0,c.default)(a,"startFun",(function(e,n){e>n||(e++,t("log",e," at pages/dapp/test.vue:186"),uni.request({url:"/static/abi/FPT.json",method:"GET",success:function(t){u.$common.tokenContract=new u.$common.web3.eth.Contract(t.data,u.$common.contract_address),u.$common.tokenContract.setProvider(u.$common.provider),u.buyEth(e,n)}}))})),(0,c.default)(a,"buyEth",(function(e,n){var o=null;u.$common.web3.eth.getAccounts().then((function(a){o=a[0],t("log","主地址",o," at pages/dapp/test.vue:202");var c=null;u.$common.web3.eth.personal.newAccount("123456").then((function(a){c=a,u.address.push(c),t("log","当前地址为",c," at pages/dapp/test.vue:208");var r=u.eth+1,i=u.toWei(r+"");u.$common.web3.eth.sendTransaction({from:o,to:c,value:i}).on("receipt",(function(a){var r=u.toWei(u.eth+"");u.$common.web3.eth.personal.unlockAccount(c,"123456",60).then((function(i,s){a.status?u.$common.tokenContract.methods.buy(u.$common.contract_address).send({from:c,value:r,gas:3e6}).on("receipt",(function(t){t.status&&u.ticket(c,o,e,n)})):t("log",a," at pages/dapp/test.vue:236")}))}))}))}))})),(0,c.default)(a,"ticket",(function(e,n,o,a){uni.request({url:"/static/abi/GAME.json",method:"GET",success:function(n){u.$common.gameContract=new u.$common.web3.eth.Contract(n.data,u.$common.game_contract_address),u.$common.gameContract.setProvider(u.$common.provider);var c=u.toWei(u.fpt+"");u.$common.gameContract.methods.join(u.$common.game_contract_address).send({from:e,value:c,gas:3e6}).on("receipt",(function(e){if(e.status){t("log","当期手续费",e.gasUsed," at pages/dapp/test.vue:262");var n=[1,100,600];-1!=n.indexOf(o)&&t("error",e," at pages/dapp/test.vue:265"),u.startFun(o,a)}}))}})})),(0,c.default)(a,"rukou",(function(){u.totals(2)})),(0,c.default)(a,"totals",(function(e){var n=0;uni.request({url:"/static/abi/GAME.json",method:"GET",success:function(o){u.$common.gameContract=new u.$common.web3.eth.Contract(o.data,u.$common.game_contract_address),u.$common.gameContract.setProvider(u.$common.provider),u.$common.gameContract.methods.rounds(e).call((function(o,a){var c=u.fromWei(a["totalInput"]),r=u.fromWei(a["currentJoin"]);if(e>111)return t("log",u.totalSyn," at pages/dapp/test.vue:290"),0;t("log","当前加入总人数：",r,"--当前总参与数量",c," at pages/dapp/test.vue:293"),n=1/r*(.35*c),t("log",u.totalSyn," at pages/dapp/test.vue:295"),++e,u.totalSyn=u.totalSyn+n,u.totals(e)}))}})})),a)};e.default=r}).call(this,n("0de9")["log"])},"255a":function(t,e,n){"use strict";n.r(e);var o=n("8188"),a=n("600b");for(var u in a)"default"!==u&&function(t){n.d(e,t,(function(){return a[t]}))}(u);var c,r=n("f0c5"),i=Object(r["a"])(a["default"],o["b"],o["c"],!1,null,"406c5c20",null,!1,o["a"],c);e["default"]=i.exports},"600b":function(t,e,n){"use strict";n.r(e);var o=n("144d"),a=n.n(o);for(var u in o)"default"!==u&&function(t){n.d(e,t,(function(){return o[t]}))}(u);e["default"]=a.a},8188:function(t,e,n){"use strict";var o,a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("v-uni-view",{},[n("v-uni-input",{attrs:{type:"text",placeholder:"TRX数量",value:""},model:{value:t.eth,callback:function(e){t.eth=e},expression:"eth"}}),n("v-uni-input",{attrs:{type:"text",placeholder:"游戏入场数量",value:""},model:{value:t.fpt,callback:function(e){t.fpt=e},expression:"fpt"}}),n("v-uni-input",{attrs:{type:"text",placeholder:"游戏进场数量",value:""},model:{value:t.people,callback:function(e){t.people=e},expression:"people"}}),n("v-uni-button",{attrs:{type:"default"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.startFun(0,t.people)}}},[t._v("人数测试")])],1),n("v-uni-view",{},[n("v-uni-button",{attrs:{type:"default"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.palys()}}},[t._v("wa玩家信息")])],1)],1)},u=[];n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return u})),n.d(e,"a",(function(){return o}))}}]);