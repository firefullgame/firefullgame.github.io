(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-dapp-event"],{"04fc":function(t,e,n){"use strict";n.r(e);var r=n("7aad"),s=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);e["default"]=s.a},"0791":function(t,e,n){"use strict";var r=n("be16"),s=n.n(r);s.a},3276:function(t,e,n){"use strict";var r,s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"cont"},[n("v-uni-scroll-view",{staticClass:"page",attrs:{"scroll-y":!0}},[n("cu-custom",{attrs:{bgColor:"bg-gradual-pink",isBack:"true"}},[n("template",{attrs:{slot:"back"},slot:"back"}),n("template",{attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.title))])],2),n("v-uni-view",{staticClass:"event_list"},[t.list.length>0?n("v-uni-view",[n("v-uni-scroll-view",{staticClass:"list_body",attrs:{"scroll-y":!0}},t._l(t.list,(function(e,r){return n("v-uni-view",{staticClass:"list_cont"},[t._l(e.k,(function(r,s){return n("v-uni-view",{staticClass:"item"},[n("v-uni-view",[t._v(t._s(r))]),n("v-uni-view",{staticStyle:{overflow:"hidden"}},[t._v(t._s(e.v[s]))])],1)}))],2)})),1)],1):n("v-uni-view",{staticClass:"no_data"},[n("v-uni-view",[n("v-uni-image",{attrs:{src:"/static/null.png"}})],1),n("v-uni-view",[t._v(t._s(t.$t("event.noData"))+"...")])],1)],1)],1)],1)},o=[];n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return r}))},"37fd":function(t,e,n){"use strict";n.r(e);var r=n("3276"),s=n("04fc");for(var o in s)"default"!==o&&function(t){n.d(e,t,(function(){return s[t]}))}(o);n("0791");var a,u=n("f0c5"),i=Object(u["a"])(s["default"],r["b"],r["c"],!1,null,"0b8dc23c",null,!1,r["a"],a);e["default"]=i.exports},"7aad":function(t,e,n){"use strict";n("ac1f"),n("5319"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,s=n("29bd"),o={name:"event",data:function(){return{title:"记录",list:[],log:"",type:"",hxaddress:null}},onLoad:function(t){r=this,r.log=t.log,r.type=t.type},created:function(){r=this,r.hxaddress=r.$common.tronWeb.defaultAddress.hex,r.hxaddress=r.hxaddress.substring(2,r.hxaddress.length),"game"==r.type&&r.initGameContract(),"token"==r.type&&r.initTokenContract()},methods:{initGameContract:function(){uni.request({url:"/static/abi/GAME.json",method:"GET",success:function(t){r.$common.gameContract=r.$common.tronWeb.contract(t.data,r.$common.game_contract_address),r.getContract()}})},initTokenContract:function(){uni.request({url:"/static/abi/FPT.json",method:"GET",success:function(t){r.$common.tokenContract=r.$common.tronWeb.contract(t.data,r.$common.contract_address),r.getContract()}})},getEvent:function(t,e,n,s){var o=null;o="token"==t?r.$common.contract_address:r.$common.game_contract_address,r.$common.tronWeb.getEventResult(o,{eventName:e,filters:n}).then((function(t){console.log(t),s(t)}))},getContract:function(){switch(r.log){case"Buyer":r.title=r.$t("overview.purchaseRecords");var t={buyer:"0x"+r.hxaddress};r.getEvent(r.type,r.log,t,(function(t){r.list=[];for(var e=0;e<t.length;e++){var n=[],o=[];n.push(r.$t("event.amount")),o.push(r.fromSun(t[e].result.amount)+" TRX"),n.push(r.$t("event.number")),o.push(r.fromSun(t[e].result.tokens)+" FPT"),n.push(r.$t("event.time")),o.push((0,s.formatDate)(t[e].result.timeStamp,"yyyy-MM-dd hh:mm:ss")),r.list.push({k:n,v:o})}}));break;case"InvitBuy":r.title=r.$t("overview.refundRecord");t={inviter:"0x"+r.hxaddress};r.getEvent(r.type,r.log,t,(function(t){r.list=[];for(var e=0;e<t.length;e++){var n=[],o=[];n.push(r.$t("event.referrer"));var a=t[e].result.buyer.replace("0x","41");o.push(r.fromHex(a)),n.push(r.$t("event.purchasingPrice")),o.push(r.fromSun(t[e].result.amount)+" TRX"),n.push(r.$t("event.number")),o.push(r.fromSun(t[e].result.invit)+" FPT"),n.push(r.$t("event.time")),o.push((0,s.formatDate)(t[e].result.timeStamp,"yyyy-MM-dd hh:mm:ss")),r.list.push({k:n,v:o})}}));break;case"TeamRewardEvent":r.title=r.$t("overview.refundRecord");t={_player:"0x"+r.hxaddress};r.getEvent(r.type,r.log,t,(function(t){console.log(t),r.list=[];for(var e=0;e<t.length;e++){var n=[],o=[];n.push(r.$t("event.referrer"));var a=t[e].result._invit.replace("0x","41");o.push(r.fromHex(a)),n.push(r.$t("event.level")),o.push(t[e].result._level),n.push(r.$t("event.reward")),o.push(r.fromSun(t[e].result._rewardAmount)),n.push(r.$t("event.time")),o.push((0,s.formatDate)(t[e].result.time,"yyyy-MM-dd hh:mm:ss")),r.list.push({k:n,v:o})}}));break;case"InvitEvent":r.title=r.$t("overview.recommendationRecord");t={_from:"0x"+r.hxaddress};r.getEvent(r.type,r.log,t,(function(t){r.list=[];for(var e=0;e<t.length;e++){var n=[],o=[];n.push(r.$t("event.referrer"));var a=t[e].result._player.replace("0x","41");o.push(r.fromHex(a)),n.push(r.$t("event.number")),o.push(r.fromSun(t[e].result._joinAmount)+" TRX"),n.push(r.$t("event.time")),o.push((0,s.formatDate)(t[e].result.time,"yyyy-MM-dd hh:mm:ss")),r.list.push({k:n,v:o})}}));break;case"JoinEvent":r.title=r.$t("overview.participationRecord");t={_player:"0x"+r.hxaddress};r.getEvent(r.type,r.log,t,(function(t){r.list=[];for(var e=0;e<t.length;e++){var n=[],o=[];n.push(r.$t("event.number")),o.push(r.fromSun(t[e].result._joinAmount)+" TRX"),n.push(r.$t("event.time")),o.push((0,s.formatDate)(t[e].result.time,"yyyy-MM-dd hh:mm:ss")),r.list.push({k:n,v:o})}}));break;case"ProfitEvent":r.title=r.$t("overview.commissionWithdrawalRecord");t={_player:"0x"+r.hxaddress};r.getEvent(r.type,r.log,t,(function(t){console.log(t),r.list=[];for(var e=0;e<t.length;e++){var n=[],o=[];n.push(r.$t("event.number"));var a=r.fromSun(t[e].result._rewardAmount);a=Math.floor(1e4*a)/1e4,o.push(a+" TRX"),n.push(r.$t("event.time")),o.push((0,s.formatDate)(t[e].result.time,"yyyy-MM-dd hh:mm:ss")),r.list.push({k:n,v:o})}}));break;case"PrizeEvent":r.title=r.$t("overview.winningRecord");t={_player:"0x"+r.hxaddress};r.getEvent(r.type,r.log,t,(function(t){r.list=[];for(var e=0;e<t.length;e++){var n=[],o=[];n.push(r.$t("event.prizePool")),o.push(r.fromSun(t[e].result._jackpot)),n.push(r.$t("event.awards")),o.push(t[e].result._prize),n.push(r.$t("event.number")),o.push(r.fromSun(t[e].result._amount)+" TRX"),n.push(r.$t("event.time")),o.push((0,s.formatDate)(t[e].result.time,"yyyy-MM-dd hh:mm:ss")),r.list.push({k:n,v:o})}}));break;case"WithdrawEvent":r.title=r.$t("overview.revenueWithdrawalRecord");t={_from:"0x"+r.hxaddress};r.getEvent(r.type,r.log,t,(function(t){console.log(t),r.list=[];for(var e=0;e<t.length;e++){var n=[],o=[];n.push(r.$t("event.number"));var a=r.fromSun(t[e].result._amount);o.push(Math.floor(1e4*a)/1e4),n.push(r.$t("event.time")),o.push((0,s.formatDate)(t[e].result.time,"yyyy-MM-dd hh:mm:ss")),r.list.push({k:n,v:o})}}));break;case"SuperNodeEvent":r.title=r.$t("overview.superNodeRevenueRecord");t={_player:"0x"+r.hxaddress};r.getEvent(r.type,r.log,t,(function(t){console.log(t),r.list=[];for(var e=0;e<t.length;e++){var n=[],o=[];n.push(r.$t("event.total")),o.push(r.fromSun(t[e].result._total)+" TRX"),n.push(r.$t("event.number")),o.push(r.fromSun(t[e].result._amount)+" TRX"),n.push(r.$t("event.time")),o.push((0,s.formatDate)(t[e].result.time,"yyyy-MM-dd hh:mm:ss")),r.list.push({k:n,v:o})}}));break;default:return void uni.showToast({title:r.$t("maximumPurchase"),icon:"none",duration:5e3})}},fromSun:function(t){return r.$common.tronWeb.fromSun(t)},toDecimal:function(t){return r.$common.tronWeb.toDecimal(t)},toSun:function(t){return r.$common.tronWeb.toSun(t)},fromHex:function(t){return r.$common.tronWeb.address.fromHex(t)}}};e.default=o},b1c8:function(t,e,n){var r=n("24fb");e=r(!1),e.push([t.i,".event_list[data-v-0b8dc23c]{padding:%?20?%}.list_body[data-v-0b8dc23c]{height:calc(100vh - %?140?%)}.list_header uni-view[data-v-0b8dc23c]{display:inline-block;text-align:center}.list_cont[data-v-0b8dc23c]{border-top:rgba(0,0,0,.1) solid %?1?%;background:#fff;width:96%;border-radius:%?20?%;margin:0 auto;padding:%?20?% %?80?% %?20?% %?80?%;margin-bottom:%?20?%;box-shadow:%?10?% %?10?% %?10?% rgba(0,0,0,.1)}.no_data[data-v-0b8dc23c]{margin-top:%?150?%;text-align:center}.no_data uni-image[data-v-0b8dc23c]{width:%?200?%;height:%?150?%}.item[data-v-0b8dc23c]{display:-webkit-box;display:-webkit-flex;display:flex;line-height:%?60?%;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.item uni-view[data-v-0b8dc23c]:first-child{width:30%}",""]),t.exports=e},be16:function(t,e,n){var r=n("b1c8");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var s=n("4f06").default;s("4e49e9a8",r,!0,{sourceMap:!1,shadowMode:!1})}}]);