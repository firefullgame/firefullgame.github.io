(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-dapp-test3"],{"30e9":function(e,t,n){"use strict";var a,o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",[n("v-uni-view",{},[n("v-uni-input",{attrs:{type:"text",value:""},model:{value:e.people,callback:function(t){e.people=t},expression:"people"}}),n("v-uni-button",{attrs:{type:"default"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.test()}}},[e._v("test2")])],1),n("v-uni-view",{},[n("v-uni-input",{attrs:{type:"text",value:""},model:{value:e.total,callback:function(t){e.total=t},expression:"total"}}),n("v-uni-button",{attrs:{type:"default"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.test6()}}},[e._v("test22")])],1),n("v-uni-view",{},[n("v-uni-input",{attrs:{type:"text",value:""},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}}),n("v-uni-button",{attrs:{type:"default"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.hexFun()}}},[e._v("地址转换后")]),n("v-uni-view",{},[e._v(e._s(e.hex))])],1),n("v-uni-view",{},[e._v(e._s(e._self.addresslist))])],1)},s=[];n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return a}))},a4cb:function(e,t,n){"use strict";n.r(t);var a=n("ad04"),o=n.n(a);for(var s in a)"default"!==s&&function(e){n.d(t,e,(function(){return a[e]}))}(s);t["default"]=o.a},a85b:function(e,t,n){"use strict";n.r(t);var a=n("30e9"),o=n("a4cb");for(var s in o)"default"!==s&&function(e){n.d(t,e,(function(){return o[e]}))}(s);var r,u=n("f0c5"),c=Object(u["a"])(o["default"],a["b"],a["c"],!1,null,"138ff08a",null,!1,a["a"],r);t["default"]=c.exports},ad04:function(e,t,n){"use strict";(function(e){var a=n("ee27");n("a15b"),n("ac1f"),n("5319"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,s=a(n("21ce")),r={name:"test",data:function(){return{hex:null,address:null,index:1,zindex:0,yIndex:17,total:0,ceng:1,people:1,frist:"TYZ9uWC4GUuN8xw3WydMmQMh3E17bNEL8j",fristPrivateKey:"23b832812fe9c320f1704d1b064c93c4c1c4b7c9be608f5cf6a35db9d28eee26",addresslist:[]}},created:function(){o=this;var e=s.default.providers.HttpProvider,t=new e("http://127.0.0.1:9090"),n=new s.default(t,t);o.$common.tronWeb=n},methods:{test:function(){o.test2(o.frist,o.people,o.fristPrivateKey)},test6:function(){o.test22(o.frist,o.total,o.fristPrivateKey)},test2:function(t,n,a){e("log","第",o.index,"个"," at pages/dapp/test3.vue:63"),o.$common.tronWeb.setPrivateKey(a);var s=39;s=o.index<5?26e4:o.index<8?34e4:4e5,uni.request({url:"/static/abi/FPT.json",method:"GET",success:function(r){o.$common.tokenContract=o.$common.tronWeb.contract(r.data,o.$common.contract_address);var u,c,i=o.$common.tronWeb.defaultAddress.base58;e("log","打钱地址",i," at pages/dapp/test3.vue:85"),o.$common.tronWeb.createAccount().then((function(r){e("log",r," at pages/dapp/test3.vue:89"),u=r.address.base58,c=r.privateKey,e("log","玩家",u," at pages/dapp/test3.vue:93"),e("log","玩家私钥",c," at pages/dapp/test3.vue:94");var i={address:null,privateKey:null};i["address"]=u,i["privateKey"]=c,o.addresslist.push(i),o.$common.tronWeb.trx.sendTransaction(u,o.toSun(s+3e3)).then((function(r){r.result&&(o.$common.tronWeb.setPrivateKey(c),e("log","推荐人为",t,"购买人为",o.$common.tronWeb.defaultAddress.base58," at pages/dapp/test3.vue:108"),o.$common.tokenContract.buy(t).send({feeLimit:1e8,callValue:o.toSun(s),shouldPollResponse:!0},(function(s,r){if(s)e("log",s," at pages/dapp/test3.vue:117");else{if(o.index==o.people)return e("log","购买循环结束"," at pages/dapp/test3.vue:121"),o.index=0,void o.$common.tronWeb.createAccount().then((function(t){u=t.address.base58,c=t.privateKey,e("log","需要转账的地址",u," at pages/dapp/test3.vue:128")}));o.index++,e("log","下一个开始"," at pages/dapp/test3.vue:134"),o.test2(t,n,a)}})))}))}))}})},test22:function(t,n,a){e("log","第",o.ceng,"层"," at pages/dapp/test3.vue:148"),e("log","第",o.index,"个"," at pages/dapp/test3.vue:149"),o.$common.tronWeb.setPrivateKey(o.fristPrivateKey),uni.request({url:"/static/abi/FPT.json",method:"GET",success:function(s){o.$common.tokenContract=o.$common.tronWeb.contract(s.data,o.$common.contract_address),o.$common.tronWeb.createAccount().then((function(s){var r=s.address.base58,u=s.privateKey;e("log","玩家",r," at pages/dapp/test3.vue:162"),e("log","玩家私钥",u," at pages/dapp/test3.vue:163");var c=o.toSun(6e4),i=o.toSun(5e4);o.$common.tronWeb.trx.sendTransaction(r,c).then((function(s){s?o.$common.tokenContract.methods.transfer(r,o.toSun(400)).send({},(function(s,c){if(e("log",c," at pages/dapp/test3.vue:179"),s||0==c)return e("log",s," at pages/dapp/test3.vue:181"),void e("log","转账失败"," at pages/dapp/test3.vue:182");uni.request({url:"/static/abi/GAME.json",method:"GET",success:function(s){e("log",u," at pages/dapp/test3.vue:189"),o.$common.tronWeb.setPrivateKey(u),o.$common.gameContract=o.$common.tronWeb.contract(s.data,o.$common.game_contract_address),e("log","推荐人为",t,"购买人为",o.$common.tronWeb.defaultAddress.base58," at pages/dapp/test3.vue:192");var c=["TXNmzNwiU3CtMfQ9f3itKHFWzE3W2L8X46","TQuzFMhhr2YPNGac8TX6bWfXQEGGUHrSZF","TVczVXZKqXikVWACqKiLEckGqZmLVFFWGA"],d=o.ceng-1;o.$common.gameContract.join(c[d]).send({feeLimit:1e9,callValue:i,shouldPollResponse:!0},(function(s,c){s&&(e("log",s," at pages/dapp/test3.vue:204"),e("log","参与游戏报错结束"," at pages/dapp/test3.vue:205")),e("log",c," at pages/dapp/test3.vue:207"),e("log","进入下一个"," at pages/dapp/test3.vue:209"),o.index==o.yIndex&&(o.ceng++,o.index=0,t=r,a=u,o.ceng>n)?e("log","循环结束"," at pages/dapp/test3.vue:222"):(o.zindex++,o.index++,o.test22(t,n,a))}))}})})):e("log","激活失败"," at pages/dapp/test3.vue:173")}))}))}})},creataddress:function(){o.$common.tronWeb.createAccount().then((function(t){var n=t.address.base58,a=t.privateKey;e("log","需要转账的地址",n,"--私钥",a," at pages/dapp/test3.vue:255")}))},hexFun:function(){var e=o.address.replace("0x","41");o.hex=o.fromHex(e)},fromSun:function(e){return o.$common.tronWeb.fromSun(e)},toSun:function(e){return o.$common.tronWeb.toSun(e)},fromHex:function(e){return o.$common.tronWeb.address.fromHex(e)}}};t.default=r}).call(this,n("0de9")["log"])}}]);