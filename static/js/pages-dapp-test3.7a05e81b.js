(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-dapp-test3"],{"943f":function(e,t,n){"use strict";var a,o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",[n("v-uni-view",{},[n("v-uni-input",{attrs:{type:"text",value:""},model:{value:e.people,callback:function(t){e.people=t},expression:"people"}}),n("v-uni-button",{attrs:{type:"default"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.test()}}},[e._v("test2")])],1),n("v-uni-view",{},[n("v-uni-input",{attrs:{type:"text",value:""},model:{value:e.total,callback:function(t){e.total=t},expression:"total"}}),n("v-uni-button",{attrs:{type:"default"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.test6()}}},[e._v("test22")])],1),n("v-uni-view",{},[e._v(e._s(e._self.addresslist))])],1)},s=[];n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return a}))},a4cb:function(e,t,n){"use strict";n.r(t);var a=n("ad04"),o=n.n(a);for(var s in a)"default"!==s&&function(e){n.d(t,e,(function(){return a[e]}))}(s);t["default"]=o.a},a85b:function(e,t,n){"use strict";n.r(t);var a=n("943f"),o=n("a4cb");for(var s in o)"default"!==s&&function(e){n.d(t,e,(function(){return o[e]}))}(s);var r,u=n("f0c5"),c=Object(u["a"])(o["default"],a["b"],a["c"],!1,null,"3e10eb29",null,!1,a["a"],r);t["default"]=c.exports},ad04:function(e,t,n){"use strict";(function(e){var a=n("ee27");n("a15b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,s=a(n("21ce")),r={name:"test",data:function(){return{index:1,zindex:0,yIndex:1,total:0,ceng:1,people:1,frist:"TKFEv6nmj48KvAa5RPz4zRTq7oykBASU6U",fristPrivateKey:"064ef86df63be6558e98dad11f3282200c97b111d701740ef1e272672c2c6e32",addresslist:[]}},created:function(){o=this;var e=s.default.providers.HttpProvider,t=new e("http://127.0.0.1:9090"),n=new s.default(t,t);o.$common.tronWeb=n},methods:{test:function(){o.test2(o.frist,o.people,o.fristPrivateKey)},test6:function(){o.test22(o.frist,o.total,o.fristPrivateKey)},test2:function(t,n,a){e("log","第",o.index,"个"," at pages/dapp/test3.vue:56"),o.$common.tronWeb.setPrivateKey(a);var s=39;s=o.index<5?26e4:o.index<8?34e4:4e5,uni.request({url:"/static/abi/FPT.json",method:"GET",success:function(r){o.$common.tokenContract=o.$common.tronWeb.contract(r.data,o.$common.contract_address);var u,c,d=o.$common.tronWeb.defaultAddress.base58;e("log","打钱地址",d," at pages/dapp/test3.vue:78"),o.$common.tronWeb.createAccount().then((function(r){e("log",r," at pages/dapp/test3.vue:82"),u=r.address.base58,c=r.privateKey,e("log","玩家",u," at pages/dapp/test3.vue:86"),e("log","玩家私钥",c," at pages/dapp/test3.vue:87");var d={address:null,privateKey:null};d["address"]=u,d["privateKey"]=c,o.addresslist.push(d),o.$common.tronWeb.trx.sendTransaction(u,o.toSun(s+3e3)).then((function(r){r.result&&(o.$common.tronWeb.setPrivateKey(c),e("log","推荐人为",t,"购买人为",o.$common.tronWeb.defaultAddress.base58," at pages/dapp/test3.vue:101"),o.$common.tokenContract.buy(t).send({feeLimit:1e8,callValue:o.toSun(s),shouldPollResponse:!0},(function(s,r){if(s)e("log",s," at pages/dapp/test3.vue:110");else{if(o.index==o.people)return e("log","购买循环结束"," at pages/dapp/test3.vue:114"),o.index=0,void o.$common.tronWeb.createAccount().then((function(t){u=t.address.base58,c=t.privateKey,e("log","需要转账的地址",u," at pages/dapp/test3.vue:121")}));o.index++,e("log","下一个开始"," at pages/dapp/test3.vue:127"),o.test2(t,n,a)}})))}))}))}})},test22:function(t,n,a){e("log","第",o.ceng,"层"," at pages/dapp/test3.vue:141"),e("log","第",o.index,"个"," at pages/dapp/test3.vue:142"),o.$common.tronWeb.setPrivateKey(o.fristPrivateKey),uni.request({url:"/static/abi/FPT.json",method:"GET",success:function(s){o.$common.tokenContract=o.$common.tronWeb.contract(s.data,o.$common.contract_address),o.$common.tronWeb.createAccount().then((function(s){var r=s.address.base58,u=s.privateKey;e("log","玩家",r," at pages/dapp/test3.vue:155"),e("log","玩家私钥",u," at pages/dapp/test3.vue:156"),o.$common.tronWeb.trx.sendTransaction(r,o.toSun(6e3)).then((function(s){s?o.$common.tokenContract.methods.transfer(r,o.toSun(100)).send({},(function(s,c){if(e("log",c," at pages/dapp/test3.vue:166"),s||0==c)return e("log",s," at pages/dapp/test3.vue:168"),void e("log","转账失败"," at pages/dapp/test3.vue:169");uni.request({url:"/static/abi/GAME.json",method:"GET",success:function(s){e("log",u," at pages/dapp/test3.vue:176"),o.$common.tronWeb.setPrivateKey(u),o.$common.gameContract=o.$common.tronWeb.contract(s.data,o.$common.game_contract_address);var c=o.toSun(2e3);e("log","推荐人为",t,"购买人为",o.$common.tronWeb.defaultAddress.base58," at pages/dapp/test3.vue:180"),o.$common.gameContract.join(t).send({feeLimit:1e9,callValue:c,shouldPollResponse:!0},(function(t,n){t&&(e("log",t," at pages/dapp/test3.vue:188"),e("log","参与游戏报错结束"," at pages/dapp/test3.vue:189")),e("log",n," at pages/dapp/test3.vue:191")})),e("log","进入下一个"," at pages/dapp/test3.vue:194"),o.index==o.yIndex&&(o.ceng++,o.index=0,t=r,a=u,o.ceng>n)?e("log","循环结束"," at pages/dapp/test3.vue:207"):(o.zindex++,o.index++,o.test22(t,n,a))}})})):e("log","激活失败"," at pages/dapp/test3.vue:160")}))}))}})},creataddress:function(){o.$common.tronWeb.createAccount().then((function(t){var n=t.address.base58,a=t.privateKey;e("log","需要转账的地址",n,"--私钥",a," at pages/dapp/test3.vue:237")}))},fromSun:function(e){return o.$common.tronWeb.fromSun(e)},toSun:function(e){return o.$common.tronWeb.toSun(e)}}};t.default=r}).call(this,n("0de9")["log"])}}]);