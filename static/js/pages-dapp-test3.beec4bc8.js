(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-dapp-test3"],{3660:function(e,n,t){"use strict";t.r(n);var o=t("81d9"),r=t.n(o);for(var c in o)"default"!==c&&function(e){t.d(n,e,(function(){return o[e]}))}(c);n["default"]=r.a},"543d":function(e,n,t){"use strict";var o;t.d(n,"b",(function(){return r})),t.d(n,"c",(function(){return c})),t.d(n,"a",(function(){return o}));var r=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-uni-view",[t("v-uni-view",{},[t("v-uni-input",{attrs:{type:"text",value:""},model:{value:e.address,callback:function(n){e.address=n},expression:"address"}}),t("v-uni-button",{attrs:{type:"default"},on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.hexFun()}}},[e._v("地址转换后")]),t("v-uni-input",{attrs:{type:"text",value:""},model:{value:e.hex,callback:function(n){e.hex=n},expression:"hex"}})],1),t("v-uni-view",{},[t("v-uni-input",{attrs:{type:"text",value:""},model:{value:e.prenumber,callback:function(n){e.prenumber=n},expression:"prenumber"}}),t("v-uni-button",{attrs:{type:"default"},on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.preShip()}}},[e._v("preShip")]),t("v-uni-text",[e._v("当前操作地址:"+e._s(e.preUser[e.preindex]))])],1),t("v-uni-view",{},[t("v-uni-input",{attrs:{type:"text",value:""},model:{value:e.prenumber,callback:function(n){e.prenumber=n},expression:"prenumber"}}),t("v-uni-button",{attrs:{type:"default"},on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.initContractContract()}}},[e._v("preShip")]),t("v-uni-text",[e._v("当前层数:"+e._s(e.preyindex))]),t("v-uni-text",[e._v("当前位置:"+e._s(e.preindex))])],1)],1)},c=[]},"6a4f":function(e,n,t){"use strict";t.r(n);var o=t("543d"),r=t("3660");for(var c in r)"default"!==c&&function(e){t.d(n,e,(function(){return r[e]}))}(c);var a,i=t("f0c5"),s=Object(i["a"])(r["default"],o["b"],o["c"],!1,null,"987053fe",null,!1,o["a"],a);n["default"]=s.exports},"81d9":function(e,n,t){"use strict";(function(e){var o=t("4ea4");t("a15b"),t("ac1f"),t("5319"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,c=o(t("9167")),a={name:"test",data:function(){return{hex:null,address:null,index:1,zindex:0,yIndex:132,total:0,ceng:1,people:1,frist:"TCagiRPuDSzjtv1Ex3HgNFkaXbVDkHriRJ",fristPrivateKey:"6aea47b7e70b602052a32780c604902d3a2c6e26bc9be8e1036b60621a5c278a",addresslist:[],xiaAddress:null,preindex:1,preyindex:0,preymax:10,prenumber:8,preUser:["TW5BbcT3ZuYPoCutHUVLk9j4ZUdFCobJkz"],preUserPer:["584a0891bc808f240552bf130db0ea524597f95c4d8910b488a330e8691fc55c"]}},created:function(){r=this;var e=c.default.providers.HttpProvider,n=new e("http://bikeworld.cc:9090/"),t=new c.default(n,n);r.$common.tronWeb=t},methods:{initContractContract:function(){uni.request({url:"/static/abi/GAME.json",method:"GET",success:function(e){r.$common.contractContract=r.$common.tronWeb.contract(e.data,r.$common.contract_contract_address),r.initTokenContract()}})},initTokenContract:function(){uni.request({url:"/static/abi/FPT.json",method:"GET",success:function(e){r.$common.tokenContract=r.$common.tronWeb.contract(e.data,r.$common.contract_address),r.plpreShip()}})},test2:function(n,t,o){e.log("第",r.index,"个"),r.$common.tronWeb.setPrivateKey(o);var c=39;c=r.index<5?26e4:r.index<8?34e4:4e5,uni.request({url:"/static/abi/FPT.json",method:"GET",success:function(a){r.$common.tokenContract=r.$common.tronWeb.contract(a.data,r.$common.contract_address);var i,s,u=r.$common.tronWeb.defaultAddress.base58;e.log("打钱地址",u),r.$common.tronWeb.createAccount().then((function(a){e.log(a),i=a.address.base58,s=a.privateKey,e.log("玩家",i),e.log("玩家私钥",s);var u={address:null,privateKey:null};u["address"]=i,u["privateKey"]=s,r.addresslist.push(u),r.$common.tronWeb.trx.sendTransaction(i,r.toSun(c+1e3)).then((function(a){a.result&&(r.$common.tronWeb.setPrivateKey(s),e.log("推荐人为",n,"购买人为",r.$common.tronWeb.defaultAddress.base58),r.$common.tokenContract.buy(n).send({feeLimit:1e8,callValue:r.toSun(c),shouldPollResponse:!0},(function(c,a){if(c)e.log(c);else{if(r.index==r.people)return e.log("购买循环结束"),r.index=0,void r.$common.tronWeb.createAccount().then((function(n){i=n.address.base58,s=n.privateKey,e.log("需要转账的地址",i)}));r.index++,e.log("下一个开始"),r.test2(n,t,o)}})))}))}))}})},test22:function(n,t,o){e.log("第",r.ceng,"层"),e.log("第",r.index,"个"),r.$common.tronWeb.setPrivateKey(r.fristPrivateKey),uni.request({url:"/static/abi/FPT.json",method:"GET",success:function(c){r.$common.tokenContract=r.$common.tronWeb.contract(c.data,r.$common.contract_address),r.$common.tronWeb.createAccount().then((function(c){var a=c.address.base58,i=c.privateKey;e.log("玩家",a),e.log("玩家私钥",i);var s=r.toSun(6e4),u=r.toSun(5e4);r.$common.tronWeb.trx.sendTransaction(a,s).then((function(c){c?r.$common.tokenContract.methods.transfer(a,r.toSun(470)).send({},(function(c,s){if(e.log(s),c||0==s)return e.log(c),void e.log("转账失败");uni.request({url:"/static/abi/GAME.json",method:"GET",success:function(c){e.log(i),r.$common.tronWeb.setPrivateKey(i),r.$common.contractContract=r.$common.tronWeb.contract(c.data,r.$common.contract_contract_address),e.log("推荐人为",n,"购买人为",r.$common.tronWeb.defaultAddress.base58),r.$common.contractContract.join(n).send({feeLimit:1e9,callValue:u,shouldPollResponse:!0},(function(c,s){c&&(e.log(c),e.log("参与游戏报错结束")),e.log(s),e.log("进入下一个"),r.index==r.yIndex&&(r.ceng++,r.index=0,n=a,o=i,r.ceng>t)?e.log("循环结束"):(r.zindex++,r.index++,r.test22(n,t,o))}))}})})):e.log("激活失败")}))}))}})},creataddress:function(){r.$common.tronWeb.createAccount().then((function(n){var t=n.address.base58,o=n.privateKey;e.log("需要转账的地址",t,"--私钥",o)}))},preShip:function(){e.log(r.preindex),uni.request({url:"/static/abi/GAME.json",method:"GET",success:function(n){r.$common.tronWeb.setPrivateKey(r.preUserPer[r.preindex]),r.$common.contractContract=r.$common.tronWeb.contract(n.data,r.$common.contract_contract_address);var t=r.preindex-1;e.log("上级"+r.preUser[t]+"推荐了"+r.preUser[r.preindex]),r.$common.contractContract.methods.preShip(r.preUser[t]).send({feeLimit:1e8,shouldPollResponse:!0},(function(n,t){if(n)return e.log(n),void e.log("排网失败");r.$common.contractContract.join(address).send({feeLimit:1e9,callValue:buy_num,shouldPollResponse:!0},(function(n,t){n&&(e.log(n),e.log("参与游戏报错结束")),r.preindex++,e.log("下一个"),r.preindex>r.prenumber?e.log("排网结束"):r.preShip()}))}))}})},plpreShip:function(){e.log("当前第"+r.preyindex+"层"),e.log("当前第"+r.preindex+"个"),r.$common.tronWeb.setPrivateKey(r.preUserPer[0]);var n,t,o=r.$common.tronWeb.defaultAddress.base58;e.log("打钱地址",o),r.$common.tronWeb.createAccount().then((function(o){e.log(o),n=o.address.base58,t=o.privateKey,e.log("玩家",n),e.log("玩家私钥",t),r.$common.tronWeb.trx.sendTransaction(n,r.toSun(6e4)).then((function(o){o.result&&r.$common.tokenContract.buy(address).send({feeLimit:1e8,callValue:r.toSun(5e3),shouldPollResponse:!0},(function(o,c){if(e.log(c),o||0==c)return e.log(o),void e.log("转账失败");r.$common.tronWeb.setPrivateKey(t),e.log("下级为",n,"上级为",r.preUser[0]),r.$common.contractContract.methods.preShip(r.preUser[0]).send({feeLimit:1e9,shouldPollResponse:!0},(function(n,t){if(n)return e.log(n),void e.log("排网失败");r.$common.contractContract.join().send({feeLimit:1e9,callValue:r.toSun(5e4),shouldPollResponse:!0},(function(n,t){n&&(e.log(n),e.log("参与游戏报错结束")),r.preindex++,e.log("下一个"),r.preindex>r.prenumber?e.log("循环结束"):r.plpreShip()}))}))}))}))}))},hexFun:function(){var e=r.address.replace("0x","41");r.hex=r.fromHex(e)},fromSun:function(e){return r.$common.tronWeb.fromSun(e)},toSun:function(e){return r.$common.tronWeb.toSun(e)},fromHex:function(e){return r.$common.tronWeb.address.fromHex(e)}}};n.default=a}).call(this,t("5a52")["default"])}}]);