(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-dapp-test3"],{"82a8":function(e,n,t){"use strict";var o,c=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-uni-view",[t("v-uni-view",{},[t("v-uni-input",{attrs:{type:"text",value:""},model:{value:e.people,callback:function(n){e.people=n},expression:"people"}}),t("v-uni-button",{attrs:{type:"default"},on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.test()}}},[e._v("test2")])],1),t("v-uni-view",{},[t("v-uni-input",{attrs:{type:"text",value:""},model:{value:e.total,callback:function(n){e.total=n},expression:"total"}}),t("v-uni-button",{attrs:{type:"default"},on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.test6()}}},[e._v("test22")])],1),t("v-uni-view",{},[t("v-uni-input",{attrs:{type:"text",value:""},model:{value:e.address,callback:function(n){e.address=n},expression:"address"}}),t("v-uni-button",{attrs:{type:"default"},on:{click:function(n){arguments[0]=n=e.$handleEvent(n),e.hexFun()}}},[e._v("地址转换后")])],1),t("v-uni-view",{},[e._v(e._s(e._self.addresslist))])],1)},a=[];t.d(n,"b",(function(){return c})),t.d(n,"c",(function(){return a})),t.d(n,"a",(function(){return o}))},a4cb:function(e,n,t){"use strict";t.r(n);var o=t("ad04"),c=t.n(o);for(var a in o)"default"!==a&&function(e){t.d(n,e,(function(){return o[e]}))}(a);n["default"]=c.a},a85b:function(e,n,t){"use strict";t.r(n);var o=t("82a8"),c=t("a4cb");for(var a in c)"default"!==a&&function(e){t.d(n,e,(function(){return c[e]}))}(a);var s,r=t("f0c5"),i=Object(r["a"])(c["default"],o["b"],o["c"],!1,null,"1820c958",null,!1,o["a"],s);n["default"]=i.exports},ad04:function(e,n,t){"use strict";var o=t("ee27");t("a15b"),t("ac1f"),t("5319"),Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var c,a=o(t("21ce")),s={name:"test",data:function(){return{hex:null,address:null,index:1,zindex:0,yIndex:132,total:0,ceng:1,people:1,frist:"TCagiRPuDSzjtv1Ex3HgNFkaXbVDkHriRJ",fristPrivateKey:"3f62af60a84a3a0992791b9066492d355a7f1aff6faa6ea2da48229b76416b97",addresslist:[]}},created:function(){c=this;var e=a.default.providers.HttpProvider,n=new e("http://127.0.0.1:9090"),t=new a.default(n,n);c.$common.tronWeb=t},methods:{test:function(){c.test2(c.frist,c.people,c.fristPrivateKey)},test6:function(){c.test22(c.frist,c.total,c.fristPrivateKey)},test2:function(e,n,t){console.log("第",c.index,"个"),c.$common.tronWeb.setPrivateKey(t);var o=39;o=c.index<5?26e4:c.index<8?34e4:4e5,uni.request({url:"/static/abi/FPT.json",method:"GET",success:function(a){c.$common.tokenContract=c.$common.tronWeb.contract(a.data,c.$common.contract_address);var s,r,i=c.$common.tronWeb.defaultAddress.base58;console.log("打钱地址",i),c.$common.tronWeb.createAccount().then((function(a){console.log(a),s=a.address.base58,r=a.privateKey,console.log("玩家",s),console.log("玩家私钥",r);var i={address:null,privateKey:null};i["address"]=s,i["privateKey"]=r,c.addresslist.push(i),c.$common.tronWeb.trx.sendTransaction(s,c.toSun(o+1e3)).then((function(a){a.result&&(c.$common.tronWeb.setPrivateKey(r),console.log("推荐人为",e,"购买人为",c.$common.tronWeb.defaultAddress.base58),c.$common.tokenContract.buy(e).send({feeLimit:1e8,callValue:c.toSun(o),shouldPollResponse:!0},(function(o,a){if(o)console.log(o);else{if(c.index==c.people)return console.log("购买循环结束"),c.index=0,void c.$common.tronWeb.createAccount().then((function(e){s=e.address.base58,r=e.privateKey,console.log("需要转账的地址",s)}));c.index++,console.log("下一个开始"),c.test2(e,n,t)}})))}))}))}})},test22:function(e,n,t){console.log("第",c.ceng,"层"),console.log("第",c.index,"个"),c.$common.tronWeb.setPrivateKey(c.fristPrivateKey),uni.request({url:"/static/abi/FPT.json",method:"GET",success:function(o){c.$common.tokenContract=c.$common.tronWeb.contract(o.data,c.$common.contract_address),c.$common.tronWeb.createAccount().then((function(o){var a=o.address.base58,s=o.privateKey;console.log("玩家",a),console.log("玩家私钥",s);var r=c.toSun(6e4),i=c.toSun(5e4);c.$common.tronWeb.trx.sendTransaction(a,r).then((function(o){o?c.$common.tokenContract.methods.transfer(a,c.toSun(470)).send({},(function(o,r){if(console.log(r),o||0==r)return console.log(o),void console.log("转账失败");uni.request({url:"/static/abi/GAME.json",method:"GET",success:function(o){console.log(s),c.$common.tronWeb.setPrivateKey(s),c.$common.gameContract=c.$common.tronWeb.contract(o.data,c.$common.game_contract_address),console.log("推荐人为",e,"购买人为",c.$common.tronWeb.defaultAddress.base58),c.$common.gameContract.join(e).send({feeLimit:1e9,callValue:i,shouldPollResponse:!0},(function(o,r){o&&(console.log(o),console.log("参与游戏报错结束")),console.log(r),console.log("进入下一个"),c.index==c.yIndex&&(c.ceng++,c.index=0,e=a,t=s,c.ceng>n)?console.log("循环结束"):(c.zindex++,c.index++,c.test22(e,n,t))}))}})})):console.log("激活失败")}))}))}})},creataddress:function(){c.$common.tronWeb.createAccount().then((function(e){var n=e.address.base58,t=e.privateKey;console.log("需要转账的地址",n,"--私钥",t)}))},hexFun:function(){var e=c.address.replace("0x","41");c.hex=c.fromHex(e)},fromSun:function(e){return c.$common.tronWeb.fromSun(e)},toSun:function(e){return c.$common.tronWeb.toSun(e)},fromHex:function(e){return c.$common.tronWeb.address.fromHex(e)}}};n.default=s}}]);