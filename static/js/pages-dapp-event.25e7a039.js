(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-dapp-event"],{"04fc":function(t,e,n){"use strict";n.r(e);var s=n("7aad"),r=n.n(s);for(var a in s)"default"!==a&&function(t){n.d(e,t,(function(){return s[t]}))}(a);e["default"]=r.a},"204a":function(t,e,n){"use strict";var s,r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"cont"},[n("v-uni-scroll-view",{staticClass:"page",attrs:{"scroll-y":!0}},[n("cu-custom",{attrs:{bgcolor:"bg-gradual-pink",isBack:"true"}},[n("template",{attrs:{slot:"back"},slot:"back"}),n("template",{attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.title))])],2),n("v-uni-view",{staticClass:"event_list"},[t.list.length>0?n("v-uni-view",[n("v-uni-scroll-view",{staticClass:"list_body",attrs:{"scroll-y":!0}},t._l(t.list,(function(e,s){return n("v-uni-view",{staticClass:"list_cont"},[t._l(e.k,(function(s,r){return n("v-uni-view",{staticClass:"item"},[n("v-uni-view",[t._v(t._s(s))]),n("v-uni-view",{staticStyle:{overflow:"hidden"}},[t._v(t._s(e.v[r]))])],1)}))],2)})),1)],1):n("v-uni-view",{staticClass:"no_data"},[n("v-uni-view",[n("v-uni-image",{attrs:{src:"/static/null.png"}})],1),n("v-uni-view",[t._v(t._s(t.$t("event.noData"))+"...")])],1)],1)],1)],1)},a=[];n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return s}))},"21fc":function(t,e,n){var s=n("24fb");e=s(!1),e.push([t.i,".event_list[data-v-16d7b740]{padding:%?20?%}.list_body[data-v-16d7b740]{height:calc(100vh - %?140?%)}.list_header uni-view[data-v-16d7b740]{display:inline-block;text-align:center}.list_cont[data-v-16d7b740]{border-top:rgba(0,0,0,.1) solid %?1?%;background:#fff;width:96%;border-radius:%?20?%;margin:0 auto;padding:%?20?% %?80?% %?20?% %?80?%;margin-bottom:%?20?%;box-shadow:%?10?% %?10?% %?10?% rgba(0,0,0,.1)}.no_data[data-v-16d7b740]{margin-top:%?150?%;text-align:center}.no_data uni-image[data-v-16d7b740]{width:%?200?%;height:%?150?%}.item[data-v-16d7b740]{display:-webkit-box;display:-webkit-flex;display:flex;line-height:%?60?%;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.item uni-view[data-v-16d7b740]:first-child{width:30%}",""]),t.exports=e},"37fd":function(t,e,n){"use strict";n.r(e);var s=n("204a"),r=n("04fc");for(var a in r)"default"!==a&&function(t){n.d(e,t,(function(){return r[t]}))}(a);n("5659");var o,u=n("f0c5"),i=Object(u["a"])(r["default"],s["b"],s["c"],!1,null,"16d7b740",null,!1,s["a"],o);e["default"]=i.exports},5659:function(t,e,n){"use strict";var s=n("7605"),r=n.n(s);r.a},7605:function(t,e,n){var s=n("21fc");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var r=n("4f06").default;r("06410d7c",s,!0,{sourceMap:!1,shadowMode:!1})},"7aad":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s,r=n("29bd"),a={name:"event",data:function(){return{title:"记录",list:[],log:"",type:"",hxaddress:null}},onLoad:function(t){s=this,s.log=t.log,s.type=t.type},created:function(){s=this,s.hxaddress=s.$common.tronWeb.defaultAddress.hex,s.hxaddress=s.hxaddress.substring(2,s.hxaddress.length),"game"==s.type&&s.initGameContract(),"token"==s.type&&s.initTokenContract()},methods:{initGameContract:function(){uni.request({url:"/static/abi/GAME.json",method:"GET",success:function(t){s.$common.gameContract=s.$common.tronWeb.contract(t.data,s.$common.game_contract_address),s.getContract()}})},initTokenContract:function(){uni.request({url:"/static/abi/FPT.json",method:"GET",success:function(t){s.$common.tokenContract=s.$common.tronWeb.contract(t.data,s.$common.contract_address),s.getContract()}})},getEvent:function(e,n,r,a){var o=null;o="token"==e?s.$common.contract_address:s.$common.game_contract_address,s.$common.tronWeb.getEventResult(o,{eventName:n,filters:r}).then((function(e){t("log",e," at pages/dapp/event.vue:110"),a(e)}))},getContract:function(){switch(s.log){case"Buyer":s.title=s.$t("overview.purchaseRecords");var e={buyer:"0x"+s.hxaddress};s.getEvent(s.type,s.log,e,(function(t){s.list=[];for(var e=0;e<t.length;e++){var n=[],a=[];n.push(s.$t("event.amount")),a.push(s.fromSun(t[e].result.amount)+" TRX"),n.push(s.$t("event.number")),a.push(s.fromSun(t[e].result.tokens)+" FPT"),n.push(s.$t("event.time")),a.push((0,r.formatDate)(t[e].result.timeStamp,"yyyy-MM-dd hh:mm:ss")),s.list.push({k:n,v:a})}}));break;case"InvitBuy":s.title=s.$t("overview.refundRecord");e={inviter:"0x"+s.hxaddress};s.getEvent(s.type,s.log,e,(function(t){s.list=[];for(var e=0;e<t.length;e++){var n=[],a=[];n.push(s.$t("event.referrer")),a.push(t[e].result.buyer),n.push(s.$t("event.purchasingPrice")),a.push(s.fromSun(t[e].result.amount)+" TRX"),n.push(s.$t("event.number")),a.push(s.fromSun(t[e].result.invit)+" FPT"),n.push(s.$t("event.time")),a.push((0,r.formatDate)(t[e].result.timeStamp,"yyyy-MM-dd hh:mm:ss")),s.list.push({k:n,v:a})}}));break;case"Withdraw":s.title=s.$t("overview.commissionWithdrawalRecord");e={buyer:"0x"+s.hxaddress};s.getEvent(s.type,s.log,e,(function(e){t("log",e," at pages/dapp/event.vue:181"),s.list=[];for(var n=0;n<e.length;n++){var a=[],o=[];a.push(s.$t("event.number")),o.push(s.fromSun(e[n].result.value)+" TRX"),a.push(s.$t("event.time")),o.push((0,r.formatDate)(e[n].result.timeStamp,"yyyy-MM-dd hh:mm:ss")),s.list.push({k:a,v:o})}}));break;case"InvitEvent":s.title=s.$t("overview.recommendationRecord");e={_from:"0x"+s.hxaddress};s.getEvent(s.type,s.log,e,(function(t){s.list=[];for(var e=0;e<t.length;e++){var n=[],a=[];n.push(s.$t("event.referrer")),a.push(t[e].result._player),n.push(s.$t("event.number")),a.push(s.fromSun(t[e].result._joinAmount)+" TRX"),n.push(s.$t("event.time")),a.push((0,r.formatDate)(t[e].result.time,"yyyy-MM-dd hh:mm:ss")),s.list.push({k:n,v:a})}}));break;case"JoinEvent":s.title=s.$t("overview.participationRecord");e={_player:"0x"+s.hxaddress};s.getEvent(s.type,s.log,e,(function(t){s.list=[];for(var e=0;e<t.length;e++){var n=[],a=[];n.push(s.$t("event.number")),a.push(s.fromSun(t[e].result._joinAmount)+" TRX"),n.push(s.$t("event.time")),a.push((0,r.formatDate)(t[e].result.time,"yyyy-MM-dd hh:mm:ss")),s.list.push({k:n,v:a})}}));break;case"ProfitRewardEvent":s.title=s.$t("overview.refundRecord");e={_player:"0x"+s.hxaddress};s.getEvent(s.type,s.log,e,(function(e){t("log",e," at pages/dapp/event.vue:256"),s.list=[];for(var n=0;n<e.length;n++){var a=[],o=[];a.push(s.$t("event.number"));var u=s.fromSun(e[n].result._rewardAmount);u=Math.floor(1e4*u)/1e4,o.push(u+" TRX"),a.push(s.$t("event.time")),o.push((0,r.formatDate)(e[n].result.time,"yyyy-MM-dd hh:mm:ss")),s.list.push({k:a,v:o})}}));break;case"PrizeEvent":s.title=s.$t("overview.winningRecord");e={_player:"0x"+s.hxaddress};s.getEvent(s.type,s.log,e,(function(e){s.list=[];for(var n=0;n<e.length;n++){t("log",e," at pages/dapp/event.vue:284");var a=[],o=[];a.push(s.$t("event.prizePool")),o.push(s.fromSun(e[n].result._jackpot)),a.push(s.$t("event.awards")),o.push(e[n].result._prize),a.push(s.$t("event.number")),o.push(s.fromSun(e[n].result._amount)+" TRX"),a.push(s.$t("event.time")),o.push((0,r.formatDate)(e[n].result.time,"yyyy-MM-dd hh:mm:ss")),s.list.push({k:a,v:o})}}));break;case"WithdrawEvent":s.title=s.$t("overview.revenueWithdrawalRecord");e={_from:"0x"+s.hxaddress};s.getEvent(s.type,s.log,e,(function(e){t("log",e," at pages/dapp/event.vue:310"),s.list=[];for(var n=0;n<e.length;n++){var a=[],o=[];a.push(s.$t("event.number"));var u=s.fromSun(e[n].result._amount);o.push(Math.floor(1e4*u)/1e4),a.push(s.$t("event.time")),o.push((0,r.formatDate)(e[n].result.time,"yyyy-MM-dd hh:mm:ss")),s.list.push({k:a,v:o})}}));break;case"SuperNodeEvent":s.title=s.$t("overview.superNodeRevenueRecord");e={_player:"0x"+s.hxaddress};s.getEvent(s.type,s.log,e,(function(e){t("log",e," at pages/dapp/event.vue:335"),s.list=[];for(var n=0;n<e.length;n++){var a=[],o=[];a.push(s.$t("event.total")),o.push(s.fromSun(e[n].result._total)+" TRX"),a.push(s.$t("event.number")),o.push(s.fromSun(e[n].result._amount)+" TRX"),a.push(s.$t("event.time")),o.push((0,r.formatDate)(e[n].result.time,"yyyy-MM-dd hh:mm:ss")),s.list.push({k:a,v:o})}}));break;default:return void uni.showToast({title:s.$t("maximumPurchase"),icon:"none",duration:5e3})}},fromSun:function(t){return s.$common.tronWeb.fromSun(t)},toDecimal:function(t){return s.$common.tronWeb.toDecimal(t)},toSun:function(t){return s.$common.tronWeb.toSun(t)}}};e.default=a}).call(this,n("0de9")["log"])}}]);